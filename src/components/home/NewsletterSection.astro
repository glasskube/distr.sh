---

---

<section class="py-8 md:py-16 lg:py-24 bg-gray-50 dark:bg-gray-800">
  <div class="container mx-auto px-4 max-w-3xl">
    <div class="text-center">
      <h2 class="text-2xl md:text-3xl lg:text-4xl font-bold mb-4">
        Distr Newsletter
      </h2>
      <p
        class="text-base md:text-lg text-gray-600 dark:text-gray-300 mb-6 md:mb-8">
        Sign-Up to get the latest product updates and release notes!
      </p>

      <form
        id="newsletterForm"
        class="flex flex-col md:flex-row gap-4 justify-center">
        <input
          type="email"
          id="email"
          name="email"
          required
          placeholder="your-email@corp.com"
          class="flex-1 px-6 py-3 md:py-4 rounded-lg border-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:border-[#00b5eb] focus:outline-none transition-colors"
        />
        <button
          type="submit"
          class="px-8 py-3 md:py-4 bg-[#00b5eb] hover:bg-[#174c76] text-white font-medium rounded-lg transition-colors whitespace-nowrap">
          Subscribe
        </button>
      </form>
    </div>
  </div>
</section>

<script>
  // Load HubSpot script
  function loadHubSpotScript() {
    if (typeof window === 'undefined') return;

    const elementId = 'hs-script';
    if (document.getElementById(elementId) === null) {
      const script = document.createElement('script');
      script.type = 'text/javascript';
      script.src = 'https://js-eu1.hs-scripts.com/144345473.js';
      script.id = elementId;
      document.head.appendChild(script);
    }
  }

  // Handle newsletter form submission
  const form = document.getElementById('newsletterForm') as HTMLFormElement;
  const emailInput = document.getElementById('email') as HTMLInputElement;

  emailInput?.addEventListener('input', () => {
    if (emailInput.value) {
      loadHubSpotScript();
    }
  });

  form?.addEventListener('submit', async e => {
    e.preventDefault();
    const email = emailInput.value;

    try {
      const response = await fetch(
        'https://cms.glasskube.eu/api/ezforms/submit',
        {
          method: 'POST',
          headers: {
            'Content-type': 'application/json; charset=UTF-8',
          },
          body: JSON.stringify({
            token: '',
            formName: 'newsletter',
            formData: {
              email: email,
            },
          }),
        },
      );

      if (response.ok) {
        alert('Email successfully added to our newsletter: ' + email);
        form.reset();
      } else {
        throw new Error('Failed to submit');
      }
    } catch (err) {
      console.error(err);
      alert('Failed to subscribe. Please try again.');
    }
  });
</script>
