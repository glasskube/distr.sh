---
title: Distr MCP Server
description: The Distr MCP Server hosted by HyprMCP lets LLM-powered agents interact with the Distr applications, deployments, and logs.
sidebar:
  order: 3
---

import {Aside, Code, TabItem, Tabs} from '@astrojs/starlight/components';
import {Image} from 'astro:assets';
import mcpConfig from './mcp/mcp.json?raw';
import distrMCPConfig from '../../../../assets/docs/integrations/mcp/distr-mcp-tools.png';

Distr exposes its endpoints via the [Model Context Protocol](https://modelcontextprotocol.io/introduction)
to allow LLM-powered agents to interact with Distr applications, deployments, and logs.

Common use cases include:

- Investigate which deployments are failing and why
- Update deployments, for example, as part of n8n workflows
- Interact with the Distr Platform through natural language prompts

## Getting Started With the Distr MCP Server

The Distr MCP server supports streamable HTTP and stdio as transport methods.

1.  Remote Hosted MCP server
2.  Locally Running MCP server

### 1. Using the Distr Hosted Remote MCP Server

The Distr MCP server is hosted and secured by HyprMCP ([https://hyprmcp.com](https://hyprmcp.com)).

It can be accessed via: [`https://glasskube.hyprmcp.cloud/distr/mcp`](https://glasskube.hyprmcp.cloud/distr/mcp).

#### Authentication

<Aside type="caution">
  Authentication is required to perform actions against the Distr MCP server
  (and the Distr API).
</Aside>

Configure a [personal access token (PAT)](/docs/integrations/personal-access-token/) in an `Authorization` header when calling the MCP server.

**Header name:** `Authorization`

**Header value:** `AccessToken distr-bc46...`

Example configuration for Claude Code would look like:

```shell
claude mcp add --transport http distr https://glasskube.hyprmcp.cloud/distr/mcp --header "Authorization: AccessToken distr-bc46..."
```

### 2. Using the Distr MCP Server Locally

The Distr MCP Server is a [separate Go command](https://github.com/glasskube/distr/tree/main/cmd/mcp)
that can be compiled locally.

Make sure you have downloaded the Distr source code and have Go installed.
Then, you can build the Distr MCP Server with the following command:

```shell
make build-mcp-server
```

After compilation, the MCP server binary will be available in the `./dist/` directory,
which can be verified with `./dist/mcp-server --help`.

#### Local MCP Server Configuration

The Distr MCP Server exposes its executable functions via [tools](https://modelcontextprotocol.io/docs/concepts/tools).

To use all tools, extend your `mcp.json` configuration file in your MCP client:

<Aside type="note">
  Make sure to configure the absolute path to the `mcp-server` binary in the
  `command` section of your `mcp.json` file.
</Aside>

<Code code={mcpConfig} lang="json" title="mcp.json" />

You can also configure the optional environment variable `DISTR_HOST`
to point the MCP server against a different Distr instance.

If configured correctly, your MCP client will list the available tools:

<Image src={distrMCPConfig} alt="Successful Distr MCP Server configuration" />

## Distr MCP Server Use Cases

After configuring the Distr MCP Server, you can use prompts that gather additional
information from Distr via the Distr MCP Server.

### Get All Deployments and Group Them by Status

<Tabs>
  <TabItem label="Prompt">
    > Show me all distr deployments and group them by status.
  </TabItem>
  <TabItem label="Response">
    Here are all distr deployments grouped by status:

    **Status: Running / OK**

    - Local: On-Prem LLM App 2 (nginx:1.27.4)
    - Local: On-Prem LLM App 2 (1.28.0)
    - kcd: Podinfo (6.7.1)
    - ACME, Inc.: Hello Distr (0.1.6)
    - Compliance Company: Podinfo (6.7.1)
    - Edision: Security Agent (0.4.20)
    - Gov: Podinfo (6.7.1)

    **Status: Error**

    - ACME, Inc.: Hello Distr (0.1.9) — missing environment variable
    - Pear, Inc.: On-Prem LLM App 2 (error) — image not found
      ...

    </TabItem>

</Tabs>

### Investigate Failed Deployments

<Tabs>
  <TabItem label="Prompt">
    > Why are the deployments in error status? Show the latest log.
  </TabItem>
  <TabItem label="Response">
    Here are the deployments in error status and the reason why, including their latest log:

    **1. ACME, Inc.: Hello Distr (version 0.1.9)**

    - Reason: Missing environment variable.
    - Latest log: error while interpolating services.postgres.environment.POSTGRES_DB: required variable HELLO_DISTR_DB_NAME is missing a value: error

    **2. Pear, Inc.: On-Prem LLM App 2 (version error)**

    - Reason: Image not found.
    - Latest log: nginx Pulling nginx Error manifest for nginx:error not found: manifest unknown: manifest unknown Error response from daemon: manifest for nginx:error not found: manifest unknown: manifest unknown

    If you need more detailed logs or troubleshooting steps, let me know!

  </TabItem>
</Tabs>
